{"mappings":"AAoBO,SAASA,EAAgBC,GAK9BC,IAEA,MAAMC,EAAc,IAAIC,gBAAgB,CACtCC,UAAWJ,IAGb,OAAOK,MAAM,8CAAUH,EAAYI,aAAc,CAC/CC,QAAS,CACP,YAVF,2EAYCC,MAAKC,IACN,IAAKA,EAASC,GACZ,MAAM,IAAIC,MAAM,uBAAuBF,EAASG,UAElD,OAAOH,EAASI,MAAM,G,CCvCnB,SAASC,EAAgBC,GAC9B,MAAO,oCACwBA,EAAQC,OAAO,GAAGC,iDACdF,EAAQG,aAAaH,EAAQC,OAAO,GAAGC,yCAC5CF,EAAQC,OAAO,GAAGG,wGACoCJ,EAAQC,OAAO,GAAGI,qB,CCFxG,MAAMC,EAAcC,SAASC,cAAc,iBACrCC,EAAaF,SAASC,cAAc,aACpCE,EAASH,SAASC,cAAc,WAChCG,EAAQJ,SAASC,cAAc,UAE9B,SAAStB,IACdwB,EAAOE,MAAMC,QAAU,QACvBJ,EAAWG,MAAMC,QAAU,OAC3BF,EAAMC,MAAMC,QAAU,M,CAGxB,SAASC,IACPJ,EAAOE,MAAMC,QAAU,M,CAGzB,SAASE,IACPN,EAAWG,MAAMC,QAAU,O,CAG7B,SAASG,IACPL,EAAMC,MAAMC,QAAU,O,EFjBtB3B,IAEOI,MALK,sCAKM,CAChBE,QAAS,CACP,YALF,2EAOCC,MAAKC,IACN,IAAKA,EAASC,GACZ,MAAM,IAAIC,MAAM,uBAAuBF,EAASG,UAElD,OAAOH,EAASI,MAAM,KEWvBL,MAAKwB,IACJF,IACOE,EAAKC,KAAIC,IAAU,CACxBC,GAAID,EAAMC,GACVlB,KAAMiB,EAAMjB,YAGfmB,OAAMC,IAGL,MAFAN,IACAO,QAAQC,MAAMF,GACRA,CAAK,IAEZ7B,MAAKQ,IACJ,MAAMwB,EAAexB,EAAOiB,KAAIC,IAC9B,MAAMO,EAASnB,SAASoB,cAAc,UAGtC,OAFAD,EAAOE,MAAQT,EAAMC,GACrBM,EAAOG,YAAcV,EAAMjB,KACpBwB,CAAM,IAGfpB,EAAYwB,UAAUL,EAAa,IAEpCJ,OAAMU,IACLR,QAAQC,MAAM,yBAA0BO,EAAM,IAE/CC,SAAQ,KACPlB,GAAY,IAGhBR,EAAY2B,iBAAiB,UAE7B,WACE,MAAMC,EAAkB5B,EAAYsB,MAEhCM,EACFlD,EAAgBkD,GACbzC,MAAKwB,IACJF,IACOE,EAAK,MAEbxB,MAAKO,IACJS,EAAW0B,UAAYpC,EAAgBC,EAAQ,IAEhDqB,OAAMe,IAGL,MAFApB,IACAO,QAAQC,MAAM,2BAA4BY,GACpCA,CAAK,IAEZJ,SAAQ,KACPlB,GAAY,IAGhBL,EAAW0B,UAAY,E","sources":["src/cat-api.js","src/cat-markup.js","src/index.js"],"sourcesContent":["import { showLoader } from './index.js';\n\nexport function fetchBreeds() {\n  const url = 'https://api.thecatapi.com/v1/breeds';\n  const api_key =\n    'live_CyIt46k5XXDF4CTRz4nbFjJVgzCAvMjg8oVWL8KZaKNtdiYNz2FSbLVVVYPhK1dp';\n  showLoader();\n\n  return fetch(url, {\n    headers: {\n      'x-api-key': api_key,\n    },\n  }).then(response => {\n    if (!response.ok) {\n      throw new Error(`HTTP error! Status: ${response.status}`);\n    }\n    return response.json();\n  });\n}\n\nexport function fetchCatByBreed(breedId) {\n  const url = 'https://api.thecatapi.com/v1/images/search';\n  const api_key =\n    'live_CyIt46k5XXDF4CTRz4nbFjJVgzCAvMjg8oVWL8KZaKNtdiYNz2FSbLVVVYPhK1dp';\n\n  showLoader();\n\n  const queryParams = new URLSearchParams({\n    breed_ids: breedId,\n  });\n\n  return fetch(`${url}?${queryParams.toString()}`, {\n    headers: {\n      'x-api-key': api_key,\n    },\n  }).then(response => {\n    if (!response.ok) {\n      throw new Error(`HTTP error! Status: ${response.status}`);\n    }\n    return response.json();\n  });\n}\n","export function createCatMarkup(catData) {\n  return `\n    <h2 class=\"cat-card-title\">${catData.breeds[0].name}</h2>\n    <img class=\"cat-card-img\" src=\"${catData.url}\" alt=\"${catData.breeds[0].name}\">\n    <p class=\"cat-card-descr\">${catData.breeds[0].description}</p>\n    <p class=\"cat-card-temperament\"><span class=\"cat-card-temp\">Temperament:</span> ${catData.breeds[0].temperament}</p>\n  `;\n}\n","import { fetchBreeds, fetchCatByBreed } from './cat-api.js';\nimport { createCatMarkup } from './cat-markup.js';\n\nconst breedSelect = document.querySelector('.breed-select');\nconst catInfoDiv = document.querySelector('.cat-card');\nconst loader = document.querySelector('.loader');\nconst error = document.querySelector('.error');\n\nexport function showLoader() {\n  loader.style.display = 'block';\n  catInfoDiv.style.display = 'none';\n  error.style.display = 'none';\n}\n\nfunction hideLoader() {\n  loader.style.display = 'none';\n}\n\nfunction showCatInfo() {\n  catInfoDiv.style.display = 'block';\n}\n\nfunction showError() {\n  error.style.display = 'block';\n}\n\nfetchBreeds()\n  .then(data => {\n    showCatInfo();\n    return data.map(breed => ({\n      id: breed.id,\n      name: breed.name,\n    }));\n  })\n  .catch(error => {\n    showError();\n    console.error(error);\n    throw error;\n  })\n  .then(breeds => {\n    const breedOptions = breeds.map(breed => {\n      const option = document.createElement('option');\n      option.value = breed.id;\n      option.textContent = breed.name;\n      return option;\n    });\n\n    breedSelect.append(...breedOptions);\n  })\n  .catch(error => {\n    console.error('Error fetching breeds:', error);\n  })\n  .finally(() => {\n    hideLoader();\n  });\n\nbreedSelect.addEventListener('change', onBreedSelectChange);\n\nfunction onBreedSelectChange() {\n  const selectedBreedId = breedSelect.value;\n\n  if (selectedBreedId) {\n    fetchCatByBreed(selectedBreedId)\n      .then(data => {\n        showCatInfo();\n        return data[0];\n      })\n      .then(catData => {\n        catInfoDiv.innerHTML = createCatMarkup(catData);\n      })\n      .catch(error => {\n        showError();\n        console.error('Error fetching cat data:', error);\n        throw error;\n      })\n      .finally(() => {\n        hideLoader();\n      });\n  } else {\n    catInfoDiv.innerHTML = '';\n  }\n}\n"],"names":["$6b5f202d1456c0af$export$57b7d3a597416aa2","breedId","$1f0dc3b9307be026$export$56525cbb1fcd885c","queryParams","URLSearchParams","breed_ids","fetch","toString","headers","then","response","ok","Error","status","json","$71fdfcd7ad10abd3$export$4c53b31632605d0b","catData","breeds","name","url","description","temperament","$1f0dc3b9307be026$var$breedSelect","document","querySelector","$1f0dc3b9307be026$var$catInfoDiv","$1f0dc3b9307be026$var$loader","$1f0dc3b9307be026$var$error","style","display","$1f0dc3b9307be026$var$hideLoader","$1f0dc3b9307be026$var$showCatInfo","$1f0dc3b9307be026$var$showError","data","map","breed","id","catch","error1","console","error","breedOptions","option","createElement","value","textContent","append","error2","finally","addEventListener","selectedBreedId","innerHTML","error3"],"version":3,"file":"index.b0da5c3a.js.map"}